<!-- admin dashboard -->
<div class="body">
	<div class='page-title container'>
		<h2>Administrator Dashboard</h2>
	</div>
	<div class="view-tabs row">
		<button class="tab-link col-sm-4" onclick="viewSwitch('Items', this, 'orange')" id="defaultOpen">Items</button>
		<button class="tab-link col-sm-4" onclick="viewSwitch('Messages', this, 'orange')">Messages</button>
		<button class="tab-link col-sm-4" onclick="viewSwitch('Users', this, 'orange')" id="userButton">Users</button>
	</div>

	<div class="body-table row ">
		<div  class="item-list col-sm-12 tab-content" id="Items">
			<div class="filters"> {{data.items.length}} Total Items
				<span class="dropdown filter-dropdown">
					<button class="btn btn-secondary btn-sm dropdown-toggle" type="button" id="filters-menu" data-toggle="dropdown" >
						Filter by <span class="caret"></span>
					</button>
					<ul class="dropdown-menu" role="menu" aria-labelledby="filters-menu">
						<li role="presentation"><a role="menuitem" href="/admin?sort_item=item_date&type=DESC">Newest First</a></li>
						<li role="presentation"><a role="menuitem" href="/admin?sort_item=item_date&type=ASC">Oldest First</a></li>
						<li role="presentation"><a role="menuitem" href="/admin?sort_item=item_title&type=ASC">Alphabetical</a></li>
						<li role="presentation"><a role="menuitem" href="/admin?sort_item=item_price&type=DESC">Highest Price First</a></li>
						<li role="presentation"><a role="menuitem" href="/admin?sort_item=item_price&type=ASC">Lowest Price First</a></li>

					</ul>
				</span>
			</div>

			<div class="table-responsive dashboard-item-table">
				<table class="">
					<thread>
						<tr class="dashboard-item-table-key" >
							<th >Thumbnail</th>
							<th >Title</th>
							<th >Category</th>
							<th >ID Number</th>
							<th >Price</th>
							<th class="vanish">Date</th>
							<th class="vanish">Description</th>
							<th >Status</th>
							<th >Approve Item</th>
							<th >Deny Item</th>
						</tr>
					</thread>
					<tbody>

						{{#if data.items}}
						{{#each data.items}}
						<tr class="dashboard-item">
							<td><button type="button" onclick="location.href='item/{{this.item_id}}'" class="btn item_image_thumbnail_btn">
								<img src="{{this.item_image_thumbnail}}" class="item_image_thumbnail">
							</button>
						</td>
						<td>
							<div class="item-name ">{{this.item_title}}</div>
						</td>
						<td>
							<div class="item-category ">{{this.item_category}}</div>
						</td>
						<td>
							<div class="item-id ">{{this.item_id}}</div>
						</td>
						<td>
							<div class="item-price ">{{this.item_price}}</div>
						</td>
						<td class="vanish">
							<div class="item-date ">{{this.item_date}}</div>
						</td>
						<td class="vanish">
							<div class="item-description ">{{this.item_description}}</div>
						</td>
						<td>
							<div class="item-status">{{this.item_status}}</div>
						</td>
						<td>
							<button type="button" onclick ="location.href='/admin?approve_item={{this.item_id}}'" class="btn item-removal-btn">
								APPROVE<br/>ITEM
							</button>

						</td>
						<td>
							<button type="button" onclick ="location.href='/admin?remove_item={{this.item_id}}'" class="btn item-removal-btn">
								DENY<br/>ITEM
							</button>

						</td>
					</tr>
					{{/each}}
					{{/if}}

</tbody>
</table>
</div>
</div>

<div id="Messages" class="tab-content message-list col-sm-8">
	<div class="filters"><span class="">{{data.items.length}} Total Messages</span><span class="dropdown filter-dropdown">
		<button class="btn btn-secondary btn-sm dropdown-toggle" type="button" data-toggle="dropdown">Filter by
			<span class="caret"></span></button>
			<ul class="dropdown-menu">
				<li><a href="#">Item Alphabetical</a></li>
				<li><a href="#">User Alphabetical</a></li>
				<li><a href="#">Newest First</a></li>
				<li><a href="#">Oldest First</a></li>

			</ul>
		</span>
	</div>

	<!-- single message -->
	{{#if data.messages}}
	{{#each data.messages}}
	<div class='message-box'>
		<h3>User: {{this.user_name}}</h3><h4>Item:<a href="item/{{this.item_id}}">{{this.item_name}}</a></h4>
		<p>{{this.message}}
			<p>email: {{this.user_email}}</p>
			<button class="btn" onclick="">REMOVE MESSAGE</button><br/>
		</div>
		{{/each}}
		{{/if}}
		<!-- end single message -->

		</div>

		<div id="Users" class="tab-content user-list col-sm-8">
			<div class="filters"><span class="">{{data.users.length}} Total Users</span><span class="dropdown filter-dropdown">
				<button class="btn btn-secondary btn-sm dropdown-toggle" type="button" data-toggle="dropdown">Filter by
					<span class="caret"></span></button>
					<ul class="dropdown-menu">
						<li><a href="/admin?sort_user=user_name&type=ASC">User A-Z</a></li>
						<li><a href="/admin?sort_user=user_name&type=DESC">User Z-A</a></li>
						<li><a href="/admin?sort_user=user_date&type=ASC">Newest Joined</a></li>
						<li><a href="/admin?sort_user=user_date&type=DESC">Oldest Joined</a></li>
					</ul>
				</span>
			</div>

			<!-- single user -->
			{{#if data.users}}
			{{#each data.users}}
			<div class='user-box'>
				<h3>User: {{this.user_name}}<br>Joined: {{this.user_date}}</h3>
				{{#if this.items}}
				{{#each this.items}}
				<h4>Item: <a href="{{this.item_id}}">{{this.item_title}}</a></h4>
				{{/each}}
				{{/if}}
				<button class="btn" onclick="location.href = '/admin?remove_user={{this.user_id}}'">REMOVE USER</button><br/>
			</div>
			{{/each}}
			{{/if}}
			<!-- end single user -->

		</div>

</div><!-- end row -->
		</div><!-- end page body -->
